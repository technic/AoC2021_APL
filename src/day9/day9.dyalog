⎕IO←0
a ← ↑⍎¨¨ ⊃⎕NGET'day9/input.txt'1
d ← {(2>/10,⍵)∧(2</⍵,10)}
p ← ⍸ (d a) ∧ ⍉d ⍉a
+/1+a[p]

w ← (1 0) (¯1 0) (0 1) (0 ¯1)
adj ← {{(a[⍵]≠9)/⍵} {⍵ /⍨ {∧/¨ (⍵≥⊂0 0) ∧ ⍵<(⊂⍴a)} ⍵} w+⊂⍵}
×/{⍵⌷⍨⊂3↑⍒⍵} {≢ {0<≢⍵ : ⍺ (∪∇~⍨) ∪⊃,/adj¨ ⍵ ⋄ ⍺}⍨ (⊂⍵)}¨ p
